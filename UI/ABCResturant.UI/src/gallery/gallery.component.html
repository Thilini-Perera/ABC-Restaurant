<div class="container my-5 text-center">
  <div class="table-responsive">
    <p-table
      [value]="galleries"
      [loading]="loading"
      [paginator]="true"
      [rows]="5"
      [tableStyle]="{ 'min-width': '80rem' }"
      [rowsPerPageOptions]="[5, 10, 20]"
      styleClass="p-datatable-gridlines"
    >
      <ng-template pTemplate="header">
        <tr>
          <th style="display: none;">Id</th>
          <th>Image</th>
          <th>Path</th>
          <th>Restuarant Id</th>
          <th>Actions</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-gallery>
        <tr>
          <td style="display: none;">{{ gallery.id }}</td>
          <td><img [ngSrc]="'https://localhost:7072/'+gallery.path" width="100" alt="gallery" height="100" /></td>
          <td>{{ gallery.path }}</td>
          <td>{{ gallery.restuarantId }}</td>
          <td style="text-align: center">
            <button mat-fab color="failure" (click)="deleteConfirm(gallery.id)">
              <mat-icon
                aria-hidden="false"
                fontIcon="delete_forever"
              ></mat-icon>
            </button>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>


<!-- This is delete confirmation -->
<p-toast />
<p-confirmDialog #cd>
    <ng-template pTemplate="headless" let-message>
        <div class="flex flex-column align-items-center p-5 surface-overlay border-round">
          <div class="icon-container">
            <mat-icon fontIcon="error icon"></mat-icon>
          </div>
            <span class="font-bold text-2xl block mb-2 mt-4">
                {{ message.header }}
            </span>
            <p class="mb-0">{{ message.message }}</p>
            <div class="section-table">
              <div class="confirm-button-row">
                <button
                mat-flat-button
                    label="Save"
                    (click)="cd.accept()"
                    class="w-8rem">
                    Okay
                </button>
                <button
                mat-stroked-button
                    label="Cancel"
                    (click)="cd.reject()"
                    class="p-button-outlined w-8rem ">
                    Cancel
                </button>
              </div>
            </div>

        </div>
    </ng-template>
</p-confirmDialog>
